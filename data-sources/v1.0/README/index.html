<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>Data Sources - CalTRACK Technical Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Data Sources";
    var mkdocs_page_input_path = "data-sources/v1.0/README.md";
    var mkdocs_page_url = "/data-sources/v1.0/README/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> CalTRACK Technical Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Technical Specifications</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Data Sources</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#data-sources-for-caltrack-methods">Data Sources for CalTRACK Methods</a></li>
                
                    <li><a class="toctree-l4" href="#project-data">Project Data</a></li>
                
                    <li><a class="toctree-l4" href="#consumption-data">Consumption Data</a></li>
                
                    <li><a class="toctree-l4" href="#cross-reference-files">Cross-reference files</a></li>
                
                    <li><a class="toctree-l4" href="#weather">Weather</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../data-prep/v1.0/README/">Data Preparation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../savings-calculations/v1.0/monthly/README/">Analysis of Monthly Data</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../savings-calculations/v1.0/daily/README/">Analysis of Daily Data</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../aggregation/v1.0/README/">Aggregration of Site-level Savings</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">CalTRACK Technical Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Technical Specifications &raquo;</li>
        
      
    
    <li>Data Sources</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/impactlab/caltrack/edit/master/docs/data-sources/v1.0/README.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="data-sources-for-caltrack-methods"><strong>Data Sources for CalTRACK Methods</strong></h1>
<p>Three types of data files are required to run the CalTRACK methods: project data, energy consumption data, and weather data. These data must be linked with cross-reference files that define the mapping between ID columns in each of the data source types (Projects ID to Usage ID &amp; Project ID to Weather Station ID).</p>
<p>This documentation is intended to provide general guidance on these three data sources for use in implementing CalTRACK methods.</p>
<h2 id="project-data">Project Data</h2>
<p>While project data can be incredibly rich and incredibly varied, the CalTRACK methods aim to define a minimal set of data fields on projects necessary to perform CalTRACK analysis. Thankfully, this set is comparatively small. To perform CalTRACK analysis, you need to be able to uniquely identify a project, identify the location of the project, and the timing of the efficiency investment or intervention. We recommend your project data take on the general form:</p>
<table>
  <tr>
    <td>Column Name</td>
    <td>Description</td>
  </tr>
  <tr>
    <td>ProjectID</td>
    <td>A unique identifier for projects in the aggregator's database that can be used to link with additional project-specific information if desired</td>
  </tr>
  <tr>
    <td>Electric Account ID</td>
    <td>ID used for uniquely matching with electric consumption files</td>
  </tr>
  <tr>
    <td>Gas Account ID</td>
    <td>ID used for uniquely matching with gas consumption files</td>
  </tr>
  <tr>
    <td>Work Start Date</td>
    <td>Preferably the date actual work on the retrofit started, not the date that the application was made or approved</td>
  </tr>
  <tr>
    <td>Work Finish Date</td>
    <td>Preferably the date that actual work on the retrofit or intervention, not the date that the reimbursement was filed or approved</td>
  </tr>
  <tr>
    <td>Building ZIP Code</td>
    <td>The minimal geographic identifier for matching a site to a weather station</td>
  </tr>
</table>

<h2 id="consumption-data">Consumption Data</h2>
<p>Consumption data for this project took the form of 15-minute and hourly electricity data and daily natural gas data. The raw files were provided by PG&amp;E in a file format typically associated with the SAS statistical package (.XPT). You will need to find a parser that can output this data into the format that you need. Consider the unique date format associated with .XPT to make sure you are formatting your dates correctly. The following table reflects the data that were provided.</p>
<table>
  <tr>
    <td>Column Name</td>
    <td>Description</td>
  </tr>
  <tr>
    <td>SPID</td>
    <td>Service Point ID to be used to link to project records</td>
  </tr>
  <tr>
    <td>SA</td>
    <td>Account ID to be used to link to project records</td>
  </tr>
  <tr>
    <td>UOM</td>
    <td>Unit of Measurement (kWh or Therms)</td>
  </tr>
  <tr>
    <td>DIR</td>
    <td>Used for Net Metering. R indicates presence of solar production</td>
  </tr>
  <tr>
    <td>DATE</td>
    <td>Date of usage readings</td>
  </tr>
  <tr>
    <td>RS</td>
    <td>Rate code classification. Also useful for indicating presence of solar production and other DR programs.</td>
  </tr>
  <tr>
    <td>Usage Columns</td>
    <td>Total usage for time period specified measured in total consumption for the time interval preceding the column header</td>
  </tr>
</table>

<h2 id="cross-reference-files">Cross-reference files</h2>
<p>Both types of cross-reference files contain the same columns of interest. These files were used to obtain a mapping between project files and consumption files.</p>
<table>
  <tr>
    <td>Column Name</td>
    <td>Description</td>
  </tr>
  <tr>
    <td>Project ID</td>
    <td>A unique identifier for projects in the aggregators project database.</td>
  </tr>
  <tr>
    <td>Usage Record ID</td>
    <td>This typically corresponds to a meter ID, account ID, or service point ID used to uniquely identify a usage trace with a customer in the utility's usage database. There are often separate IDs for gas and electric</td>
  </tr>
  <tr>
    <td>Premise ID</td>
    <td>(Optional) This typically corresponds to a unique premise can can be necessary for combining multiple usage records into a single premise-level record in the event that households have multiple meters for one fuel type, or usage IDs change when the same customer enters into a new service agreement with the utility</td>
  </tr>
</table>

<h2 id="weather">Weather</h2>
<p>Both actual observed weather data and normal year weather data are used in the Caltrack analysis. The appropriate observed weather and normal year weather for each project are determined using the site’s ZIP code, which is mapped to weather stations using <a href="https://github.com/impactlab/caltrack/tree/master/resources/weather">the mapping file</a>, which has five fields for each ZIP code in California:</p>
<table>
  <tr>
    <td>ZipCode</td>
    <td>5-digit ZIP code for the project site</td>
  </tr>
  <tr>
    <td>ClimateZone</td>
    <td>The climate zone number; not used.</td>
  </tr>
  <tr>
    <td>WeatherFile</td>
    <td>The file name for the CZ2010 normal year temperatues</td>
  </tr>
  <tr>
    <td>WthrStationNum</td>
    <td>The weather station identifier in the ISD data set.</td>
  </tr>
  <tr>
    <td>IsValid</td>
    <td>1 for valid, 0 for invalid.</td>
  </tr>
</table>

<p>Once the appropriate WthrStationNum is identified, the observed temperatures can be downloaded from the ISD data set at ftp.ncdc.noaa.gov/pub/data/noaa/, in the format described <a href="https://www1.ncdc.noaa.gov/pub/data/ish/ish-format-document.pdf">here</a>. Two fields on each line of the relevant weather station’s file are used: the date/time (YYYYmmddHHMM, from characters 16-27) and the hourly dry bulb temperature in degrees Celsius (characters 88-92). </p>
<p>The available hourly temperatures for each day (where day is defined by dropping the HHMM fields from the date/time field) are averaged together and converted to degrees Fahrenheit to produce the daily temperature, which is then used to calculate heating and cooling degree days. Missing data points are ignored as long as at least one hourly temperature reading for a given day is available. </p>
<p>Normal year temperatures are determined using the CZ2010 files available <a href="https://github.com/impactlab/caltrack/tree/master/resources/weather">here</a>; the particular file for each ZIP code is identified by the WeatherFile field in the mapping file described above. Again, the only relevant columns are Date (MM/DD/YYYY),Time (HH:MM), and Dry-bulb (C), where the year is ignored. The normal year temperatures are averaged over days as with the ISD observed temperature data.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../data-prep/v1.0/README/" class="btn btn-neutral float-right" title="Data Preparation">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../.." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/impactlab/caltrack" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../.." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../../data-prep/v1.0/README/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../../js/theme.js"></script>
      <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</body>
</html>
